<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"> -->
<div class="center-loader" *ngIf="loader">
  <div>
    <span class="loader__dot"></span>
    <span class="loader__dot"></span>
    <span class="loader__dot"></span>
  </div>
</div>
<div class="success-message" *ngIf="successMessage">
  <h3>Account Created Successfully</h3>
</div>
<div class="signup-form container">
  <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
    <h2>Sign Up</h2>
    <p>Please fill in this form to create an account!</p>
    <hr>
    <div class="form-group">
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1"><i class="fas fa-user"></i></span>
        </div>

        <div *ngIf="(username.dirty || username.touched) &&  username.invalid && username.errors.required"
          class="alert alert-danger">
          <div *ngIf="username.errors.required">
            username is required.
          </div>
        </div>
        <div *ngIf="usernameUnavailable" class="alert alert-danger">
          <span>{{usernameUnavailable}}</span>
        </div>
        <input type="text" formControlName="username" class="form-control" placeholder="Username" />

      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1"><i class="fas fa-envelope"></i></span>
        </div>
        <div *ngIf="(email.dirty || email.touched) && email.invalid" class="alert alert-danger">
          <div *ngIf="email.errors.required">
            Email is required.
          </div>
          <div *ngIf="email.errors.email">
            Please input the correct email format
          </div>
        </div>
        <div *ngIf="emailUnavailable" class="alert alert-danger">
          <span>{{emailUnavailable}}</span>
        </div>
        <input type="email" formControlName="email" class="form-control" id="email" name="email"
          placeholder="Email Address" required="required">
      </div>
    </div>

    <div class="form-group">
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1"><i class="fas fa-lock"></i></span>
        </div>
        <div *ngIf="(password1.dirty || password1.touched) && password1.invalid" class="alert alert-danger">
          <div *ngIf="password1.errors.required">
            Password is required.
          </div>
          <div *ngIf="password1.errors.minlength">
            Password must be at least (8chars)
          </div>
          <div *ngIf="password1.errors.pattern">
            Password must have lowercase & uppercase letters, numbers & special characters
          </div>
        </div>
        <input type="password" formControlName="password1" class="form-control" name="password" placeholder="Password"
          required="required">
      </div>
    </div>
    <div class="form-group">
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1"><i class="fas fa-lock"></i></span>
        </div>
        <div *ngIf="passError" class="alert alert-danger">
          <div>
            The two passwords do not match
          </div>
        </div>
        <input type="password" class="form-control" name="confirm_password" formControlName="password2"
          placeholder="Confirm Password" required="required">
      </div>
    </div>
    <div class="form-group">
      <label class="checkbox-inline"><input type="checkbox"> I accept the <a href="#">Terms of Use</a> &amp; <a
          href="#">Privacy Policy</a></label>
    </div>
    <div class="form-group">
      <button type="submit" [disabled]="!signupForm.valid" class="btn btn-primary btn-lg">Sign Up</button>
      <button type="reset" (click)="revert()" class="btn btn-danger btn-lg">Reset</button>
    </div>
  </form>
  <div class="text-center">Already have an account?<a routerLink="/login">Login here</a></div>
</div>
